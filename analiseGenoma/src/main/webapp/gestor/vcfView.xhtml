<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./template.xhtml">

            <ui:define name="content">
                <h:form id="formulario">
                    <p:growl id="messages" showDetail="true"/>
                    <p:panel header="Variante File">
                        <h:inputHidden id="id" value="#{pacienteMB.paciente.id}" />
                        <p:outputLabel value="VCF id:" />
                        <h:outputText value="#{vcfViewMB.id}" />

                        <p:tabView>
                            <p:tab title="Data">


                                <p:dataTable value="#{vcfViewMB.variants}" var="variant" scrollable="true" scrollWidth="98%" scrollHeight="600">
                                    <p:column style="width:32px">
                                        <f:facet name="header" >
                                            <h:outputText value="Id" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.id}" />
                                    </p:column>
                                    <p:column style="width:40px">
                                        <f:facet name="header" >
                                            <h:outputText value="Chr" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.cromossomo.nome}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Position" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.position}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="ref" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.referencia}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="changed" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.alterado}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="gene" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.gene.simbolo}" />
                                    </p:column>
                                    <p:column style="width:160px">
                                        <f:facet name="header" >
                                            <h:outputText value="Umd predictor" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.umdPredictor.name}" />
                                    </p:column>
                                    <p:column style="width:120px">
                                        <f:facet name="header" >
                                            <h:outputText value="Zygocity" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.zygosity.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Allelic deph" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.allelicDeph}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Filter" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.filter.name}" />
                                    </p:column>
                                    <p:column style="width:310px">
                                        <f:facet name="header" >
                                            <h:outputText value="Hgvs_c" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.hgvsC}" />
                                    </p:column>
                                    <p:column style="width:300px">
                                        <f:facet name="header" >
                                            <h:outputText value="Hgvs_p" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.hgvsP}" />
                                    </p:column>
                                    <p:column style="width:150px">
                                        <f:facet name="header" >
                                            <h:outputText value="Dbsnp" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.idSNP}" />
                                    </p:column>
                                    <p:column style="width:60px">
                                        <f:facet name="header" >
                                            <h:outputText value="Exon/Intron number" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.exonIntron}" />
                                    </p:column>
                                    <p:column style="width:180px">
                                        <f:facet name="header" >
                                            <h:outputText value="Type" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.type.name}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="Effect" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.effect.name}" />
                                    </p:column>
                                    <p:column style="width:180px">
                                        <f:facet name="header" >
                                            <h:outputText value="Impact" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.impact.name}" />
                                    </p:column>
                                    <p:column style="width:100px">
                                        <f:facet name="header" >
                                            <h:outputText value="Clinvar significance" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.clinvarSignificance.name}" />
                                    </p:column>
                                    <p:column style="width:300px">
                                        <f:facet name="header" >
                                            <h:outputText value="Clinvar disease" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.clinvarDisease.name}" />
                                    </p:column>
                                    <p:column style="width:300px">
                                        <f:facet name="header" >
                                            <h:outputText value="Clinvar accession" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.clinvarAccession.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Clinvar allele type" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.clinvarAlleleType.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Clinvar allele orign" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.clinvarAlleleOrigin.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Sift" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.sift.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Polyphen hdiv" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.polyphenHdiv.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Polyphen hvar" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.polyphenHvar.name}" />
                                    </p:column>
                                    <p:column style="width:180px">
                                        <f:facet name="header" >
                                            <h:outputText value="mutation taster" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.mutationTaster.name}" />
                                    </p:column>
                                    <p:column style="width:180px">
                                        <f:facet name="header" >
                                            <h:outputText value="LRT" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.lrt.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Gerp rs score" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.gerpRsScore}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Gerp neutral rate" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.gerpNeutralRate}" />
                                    </p:column>
                                    <p:column style="width:180px">
                                        <f:facet name="header" >
                                            <h:outputText value="Feature" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.feature.name}" />
                                    </p:column>
                                    <p:column style="width:200px">
                                        <f:facet name="header" >
                                            <h:outputText value="Ensembl" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.ensembl.idEnsembl}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Vertebrate genomes conservation score" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.vertebrateGenomesConservationScore}" />
                                    </p:column>
                                    <p:column style="width:200px">
                                        <f:facet name="header" >
                                            <h:outputText value="Interpro domain" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.interproDomain.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Status" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.variantStatus.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Genotype" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.genoType.name}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Read depth" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.readDepth}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Alllele mut fraction" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.alleleMutFraction}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="mean base quality" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.meanBaseQuality}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Variant type" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.varintType}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Validate" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.validate}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Donor splice site" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.donorSpliceSite}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="acceptor slice site" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.acceptorSpliceSite}" />
                                    </p:column>
                                    <p:column style="width:80px">
                                        <f:facet name="header" >
                                            <h:outputText value="Is mutation" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.mutation}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="Europena variant freq" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.europeanVarintFreq}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="Afrinca variant freq" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.africanVarintFreq}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="Assian variant freq" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.asianVarintFreq}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="American variant freq" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.americanVarintFreq}" />
                                    </p:column>
                                    <p:column style="width:250px">
                                        <f:facet name="header" >
                                            <h:outputText value="Whole variant freq" />
                                        </f:facet>    
                                        <h:outputText value="#{variant.wholeVarintFreq}" />
                                    </p:column>
                                </p:dataTable>

                            </p:tab>
                            <p:tab title="Metadata">
                                <p:panelGrid columns="2" columnClasses="ui-grid-col-2, ui-grid-col-10" layout="grid" styleClass="ui-panelgrid-blank">
                                    <p:outputLabel value="Total de Variantes:" />
                                    <h:outputText value="#{vcfViewMB.vcfMetadata.qtdVariante}" />

                                    <p:outputLabel value="Chr" />
                                    <p:outputPanel>
                                        <f:facet name="header">
                                            Chr
                                        </f:facet>
                                        <p:dataList value="#{vcfViewMB.cromossos}" var="chr" type="ordered" itemType="none" >
                                            <h:outputText value="#{chr.nome}" />
                                        </p:dataList>
                                    </p:outputPanel>
                                    <h:outputText value="Position" />
                                    <p:panelGrid columns="4" >
                                        <h:outputText value="Min" />
                                        <h:outputText value="#{vcfViewMB.vcfMetadata.positonMin}" />
                                        <h:outputText value="Max" />
                                        <h:outputText value="#{vcfViewMB.vcfMetadata.positonMax}" />
                                    </p:panelGrid>

                                    <h:outputText value="Gene" />                                    
                                    <p:outputPanel>

                                        <f:facet name="header">
                                            Gene
                                        </f:facet>
                                        <p:dataList value="#{vcfViewMB.genes}" var="gene" type="ordered" itemType="none" >
                                            <p:panelGrid columns="2">
                                                <h:outputText value="#{gene.simbolo}" />
                                                <h:outputText value="#{gene.nome}" />
                                            </p:panelGrid>                                            
                                        </p:dataList>
                                    </p:outputPanel>

                                    <p:outputLabel value="Umd" /> 
                                    <p:dataList value="#{vcfViewMB.umdPredictors}" var="umd" type="ordered" itemType="none" >
                                        <h:outputText value="#{umd.name}" />
                                    </p:dataList>
                                    <p:outputLabel value="Effect" /> 
                                    <p:dataList value="#{vcfViewMB.effects}" var="ef" type="ordered" itemType="none" >
                                        <h:outputText value="#{ef.name}" />
                                    </p:dataList>
                                    <p:outputLabel value="Sift" /> 
                                    <p:dataList value="#{vcfViewMB.sifts}" var="sift" type="ordered" itemType="none" >
                                        <h:outputText value="#{sift.name}" />
                                    </p:dataList>
                                    <p:chart type="pie" model="#{vcfViewMB.genePieModel}" style="width:400px;height:300px" />
                                </p:panelGrid>
                            </p:tab>
                        </p:tabView>



                    </p:panel>
                </h:form>
            </ui:define>
        </ui:composition>

    </body>
</html>
